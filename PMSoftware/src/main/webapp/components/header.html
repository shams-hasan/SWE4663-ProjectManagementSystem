<!-- components/header.html -->
<link rel="stylesheet" href="../css/style.css" />

<!-- Sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <button class="close-sidebar-btn">
      <img src="../icons/close_button.svg" alt="Close Menu" class="menu-icon" />
    </button>
  </div>

  <div class="sidebar-user-info">
    <p class="user-name" id="sidebar-user-name">Hello User</p>
    <p class="user-email" id="sidebar-user-email">email@example.com</p>
  </div>


  <div class="sidebar-menu">
    <p class="menu-label">Menu</p>
    <a href="#"><img src="../icons/dashboard.svg" alt="Dashboard Icon" /> Dashboard</a>
    <a href="#"><img src="../icons/dashboard.svg" alt="Projects Icon" /> Projects</a>
    <a href="#"><img src="../icons/dashboard.svg" alt="Collaboration Icon" /> Collaboration</a>
    <a href="#"><img src="../icons/dashboard.svg" alt="Reports Icon" /> Reports</a>

    <p class="menu-label">Settings</p>
  </div>
</div>

<!-- Top Header -->
<header class="top-header">
  <div class="left-section">
    <button class="menu-btn">
      <img src="../icons/menu_button.svg" alt="Menu" />
    </button>
  </div>

  <h1 class="page-title" id="dynamic-page-title">Loading...</h1>

  <div class="right">
    <button class="icon-btn">
      <img src="../icons/bell.svg" alt="Notifications" class="icon" />
    </button>
    <div class="profile-wrapper">
      <img id="user-avatar" src="../images/profile/default.jpg" alt="User" class="profile-pic" />
      <img src="../icons/drop_down_arrow.svg" alt="Dropdown" class="dropdown-icon" />
    </div>
  </div>
</header>

<!-- JS for toggling and dynamic content -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const sidebar = document.getElementById("sidebar");
    const openBtn = document.querySelector(".menu-btn");
    const closeBtn = document.querySelector(".close-sidebar-btn");

    if (openBtn && sidebar) {
      openBtn.addEventListener("click", () => {
        sidebar.classList.add("show");
      });
    }

    if (closeBtn && sidebar) {
      closeBtn.addEventListener("click", () => {
        sidebar.classList.remove("show");
      });
    }

    // Dynamic page title
    const title = document.body.getAttribute("data-title");
    const titleEl = document.getElementById("dynamic-page-title");
    if (title && titleEl) titleEl.textContent = title;

    // Dynamic avatar
    const avatar = document.body.getAttribute("data-avatar");
    const avatarEl = document.getElementById("user-avatar");
    if (avatar && avatarEl) avatarEl.src = avatar;

    // Dynamic user name and email
    const userName = document.body.getAttribute("data-user-name");
    const userEmail = document.body.getAttribute("data-user-email");

    const nameEl = document.getElementById("sidebar-user-name");
    const emailEl = document.getElementById("sidebar-user-email");

    if (userName && nameEl) nameEl.textContent = `Hello ${userName}`;
    if (userEmail && emailEl) emailEl.textContent = userEmail;
  });
</script>
